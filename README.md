# JavaScript Implementation of Knuth's Algorithm X
Knuth's Dancing Links paper can be found [here](https://www.inf.ufrgs.br/~mrpritt/lib/exe/fetch.php?media=inf5504:7.2.2.1-dancing_links.pdf). You can also find an earlier paper of his displaying a previous version of the same algorithm [here](https://www.ocf.berkeley.edu/~jchu/publicportal/sudoku/0011047.pdf).

## Usage

- [Matrices](#matrices)
- [NQueens](#nqueens)

### Matrices
- Input Variables
  ``` js
  const matrix: (0 | 1)[][] = [ // matrix of 1's and 0's to solve
    [0, 0, 1, 0, 1, 0 ,0],  // 0
    [1, 0, 0, 1, 0, 0, 1],  // 1
    [0, 1, 1, 0, 0, 1, 0],  // 2
    [1, 0, 0, 1, 0, 1, 0],  // 3 commented row indices
    [0, 1, 0, 0, 0, 0, 1],  // 4
    [1, 1, 0, 1, 0, 1, 1],  // 5
    [0, 0, 0, 0, 1, 0, 0]   // 6
  ];
  const solutionCount = 2; // [OPTIONAL] limit the number of solutions to fins. Default: [Infinity]
  const secondaryItems = new Set(); // [OPTIONAL] a Set containing column indices to exclude as primary items when running DLX. Default: [new Set()].
  ```
- Main Function
  ``` js
  const solutions = DLXSolver.solveMatrix(matrix, solutionCount, secondaryItems);
  ```
- Output Variables
  ``` js
  solutions // an array of Sets. Each Set is a solution, where each digit in the Set is a row index making up that solution.
  ```
- Function Output:
  ``` js
  console.log(solutions); // [ {0, 4, 3}, {0, 5} ]
  ```

### NQueens

- Input Variables:
  ``` js
  const queenCount = 8; // number of queens, rows, and columns of the board
  const solutionFormat = '_Q'; // formats the output string matrices. The first char represents an empty board tile, the second char represents queen placements
  const solutionCount = 3; // [OPTIONAL] limit the number of solutions to find. Default: [Infinity]
  ```
- Main Function:
  ``` js
  const {nQueenSolutions, rawExactCoverMatrix} = DLXSolver.solveNQueens(queenCount, solutionFormat, solutionCount);
  ```
- Output Variables:
  ``` js
  nQueensSolutions // array of string matrices where each matrix is a different solution. Formated with [solutionFormat]
  rawExactCoverMatrix // the raw matrix of 1's and 0's representing the exact cover problem inputed into DLX
  ```
- Function Output:
  ``` js
  for (let i = 0; i < nQueenSolutions.length; i++) {
    console.log(`Solution: ${i}`);
    for (const row of nQueenSolutions[i]) {
      console.log(row.join(' '));
    }
  }
  /*
    Solution: 0
    _ _ _ _ _ _ _ Q
    _ _ Q _ _ _ _ _
    Q _ _ _ _ _ _ _
    _ _ _ _ _ Q _ _
    _ Q _ _ _ _ _ _
    _ _ _ _ Q _ _ _
    _ _ _ _ _ _ Q _
    _ _ _ Q _ _ _ _
    Solution: 1
    _ _ _ _ _ _ _ Q
    _ _ _ Q _ _ _ _
    Q _ _ _ _ _ _ _
    _ _ Q _ _ _ _ _
    _ _ _ _ _ Q _ _
    _ Q _ _ _ _ _ _
    _ _ _ _ _ _ Q _
    _ _ _ _ Q _ _ _
    Solution: 2
    _ _ _ _ _ _ _ Q
    _ Q _ _ _ _ _ _
    _ _ _ Q _ _ _ _
    Q _ _ _ _ _ _ _
    _ _ _ _ _ _ Q _
    _ _ _ _ Q _ _ _
    _ _ Q _ _ _ _ _
    _ _ _ _ _ Q _ _
  */

  console.log('Raw Extact Cover Matrix:');
  for (const row of rawExactCoverMatrix) {
    console.log(row.join(''));
  }
  /*
    Raw Extact Cover Matrix:
    000010000000100000000010000000000000000000
    000100000000100000000001000001000000000000
    000001000000100000000000100000100000000000
    001000000000100000000000010000010000000000
    000000100000100000000000001000001000000000
    010000000000100000000000000100000100000000
    000000010000100000000000000010000010000000
    100000000000100000000000000000000001000000
    000010000001000000000100000001000000000000
    000100000001000000000010000000100000000000
    000001000001000000000001000000010000000000
    001000000001000000000000100000001000000000
    000000100001000000000000010000000100000000
    010000000001000000000000001000000010000000
    000000010001000000000000000100000001000000
    100000000001000000000000000010000000100000
    000010000000010000001000000000100000000000
    000100000000010000000100000000010000000000
    000001000000010000000010000000001000000000
    001000000000010000000001000000000100000000
    000000100000010000000000100000000010000000
    010000000000010000000000010000000001000000
    000000010000010000000000001000000000100000
    100000000000010000000000000100000000010000
    000010000010000000010000000000010000000000
    000100000010000000001000000000001000000000
    000001000010000000000100000000000100000000
    001000000010000000000010000000000010000000
    000000100010000000000001000000000001000000
    010000000010000000000000100000000000100000
    000000010010000000000000010000000000010000
    100000000010000000000000001000000000001000
    000010000000001000100000000000001000000000
    000100000000001000010000000000000100000000
    000001000000001000001000000000000010000000
    100000000010000000000000001000000000001000
    000010000000001000100000000000001000000000
    000100000000001000010000000000000100000000
    000001000000001000001000000000000010000000
    000010000000001000100000000000001000000000
    000100000000001000010000000000000100000000
    000001000000001000001000000000000010000000
    000100000000001000010000000000000100000000
    000001000000001000001000000000000010000000
    000001000000001000001000000000000010000000
    001000000000001000000100000000000001000000
    000000100000001000000010000000000000100000
    010000000000001000000001000000000000010000
    000000010000001000000000100000000000001000
    100000000000001000000000010000000000000100
    000010000100000001000000000000000100000000
    000100000100000000100000000000000010000000
    000001000100000000010000000000000001000000
    001000000100000000001000000000000000100000
    000000100100000000000100000000000000010000
    010000000100000000000010000000000000001000
    000000010100000000000001000000000000000100
    100000000100000000000000100000000000000010
    000010000000000110000000000000000010000000
    000100000000000101000000000000000001000000
    000001000000000100100000000000000000100000
    001000000000000100010000000000000000010000
    000000100000000100001000000000000000001000
    010000000000000100000100000000000000000100
    000000010000000100000010000000000000000010
    100000000000000100000001000000000000000001
    000010001000000000000000000000000001000000
    100000000000001000000000010000000000000100
    000010000100000001000000000000000100000000
    000100000100000000100000000000000010000000
    000001000100000000010000000000000001000000
    001000000100000000001000000000000000100000
    000000100100000000000100000000000000010000
    010000000100000000000010000000000000001000
    000000010100000000000001000000000000000100
    100000000100000000000000100000000000000010
    000010000000000110000000000000000010000000
    000100000000000101000000000000000001000000
    000001000000000100100000000000000000100000
    001000000000000100010000000000000000010000
    000000100000000100001000000000000000001000
    010000000000000100000100000000000000000100
    000000010000000100000010000000000000000010
    100000000000000100000001000000000000000001
    000010001000000000000000000000000001000000
    000100000000000101000000000000000001000000
    000001000000000100100000000000000000100000
    001000000000000100010000000000000000010000
    000000100000000100001000000000000000001000
    010000000000000100000100000000000000000100
    000000010000000100000010000000000000000010
    100000000000000100000001000000000000000001
    000010001000000000000000000000000001000000
    000000010000000100000010000000000000000010
    100000000000000100000001000000000000000001
    000010001000000000000000000000000001000000
    100000000000000100000001000000000000000001
    000010001000000000000000000000000001000000
    000100001000000010000000000000000000100000
    000001001000000001000000000000000000010000
    001000001000000000100000000000000000001000
    000100001000000010000000000000000000100000
    000001001000000001000000000000000000010000
    001000001000000000100000000000000000001000
    000001001000000001000000000000000000010000
    001000001000000000100000000000000000001000
    000000101000000000010000000000000000000100
    010000001000000000001000000000000000000010
    000000011000000000000100000000000000000001
    100000001000000000000010000000000000000000
  */
  ```